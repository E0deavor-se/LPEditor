<div class="bg-type-selector">
    @if (string.Equals(Mode, "inherit", StringComparison.OrdinalIgnoreCase))
    {
        <div class="bg-type-hint">ç¾åœ¨ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯æœªè¨­å®šã§ã™ã€‚èƒŒæ™¯ã‚¿ã‚¤ãƒ—ã‚’é¸ã¶ã¨åæ˜ ã•ã‚Œã¾ã™ã€‚</div>
    }
    <div class="bg-type-grid">
        <button type="button" class="bg-type-btn @(IsActive("solid") ? "is-active" : "")" @onclick='() => Select("solid")'>
            <span class="bg-type-icon">ğŸ¨</span>
            <span class="bg-type-label">å˜è‰²</span>
            <span class="bg-type-desc">1è‰²ã§ã‚·ãƒ³ãƒ—ãƒ«ã«</span>
        </button>
        <button type="button" class="bg-type-btn @(IsActive("gradient") ? "is-active" : "")" @onclick='() => Select("gradient")'>
            <span class="bg-type-icon">ğŸŒˆ</span>
            <span class="bg-type-label">ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</span>
            <span class="bg-type-desc">æ»‘ã‚‰ã‹ãªå¤‰åŒ–</span>
        </button>
        <button type="button" class="bg-type-btn @(IsActive("image") ? "is-active" : "")" @onclick='() => Select("image")'>
            <span class="bg-type-icon">ğŸ–¼ï¸</span>
            <span class="bg-type-label">ç”»åƒ</span>
            <span class="bg-type-desc">å†™çœŸã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³</span>
        </button>
        <button type="button" class="bg-type-btn @(IsActive("video") ? "is-active" : "")" @onclick='() => Select("video")'>
            <span class="bg-type-icon">ğŸ¥</span>
            <span class="bg-type-label">å‹•ç”»</span>
            <span class="bg-type-desc">å‹•ãã®ã‚ã‚‹èƒŒæ™¯</span>
        </button>
        @if (ShowPreset)
        {
            <button type="button" class="bg-type-btn @(IsActive("preset") ? "is-active" : "")" @onclick='() => Select("preset")'>
                <span class="bg-type-icon">âœ¨</span>
                <span class="bg-type-label">ãƒ—ãƒªã‚»ãƒƒãƒˆ</span>
                <span class="bg-type-desc">ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯</span>
            </button>
        }
    </div>
</div>

@code {
    [Parameter] public string Mode { get; set; } = "color";
    [Parameter] public bool ShowPreset { get; set; } = true;
    [Parameter] public EventCallback<string> ModeChanged { get; set; }

    private bool IsActive(string mode) => string.Equals(Mode, mode, StringComparison.OrdinalIgnoreCase);

    private async Task Select(string mode)
    {
        if (!string.Equals(Mode, mode, StringComparison.OrdinalIgnoreCase))
        {
            await ModeChanged.InvokeAsync(mode);
        }
    }
}
